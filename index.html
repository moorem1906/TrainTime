<!DOCTYPE html>
<html lang="eng">
<head>

    <meta charset="UTF-8">
    <title>On The Go Train</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
          
</head>

<body>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#config-web-app -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyA0Ojc5IYB-8RkupT6KAzE2viB5wzJZ45g",
    authDomain: "onthegotrain-d8765.firebaseapp.com",
    databaseURL: "https://onthegotrain-d8765.firebaseio.com",
    projectId: "onthegotrain-d8765",
    storageBucket: "",
    messagingSenderId: "1085733132190",
    appId: "1:1085733132190:web:da72c5d76a1eb771"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  function writeData() {
                firebase.database().ref("add-user").set({
                    trainName: document.getElementById("TrainName-input").value,
                    destination: document.getElementById("Destination-input").value,
                    trainTime: document.getElementById("TrainTime-input").value,
                    frequency: document.getElementById("Frequency-input").value 
                });
            }


</script>

<div class="container">

    <br>


    <!-- Jumbotron -->
    <div class="jumbotron">
        <h1 class="text-center">On the go...Train!</h1>
    </div>
          
    <div class="row">
    
        <!-- Sign-Up Card-->
        <div class="col-lg-6">
            <div class="card card-default">
             <div class="card-header">
                Add Train
            </div>
            <div class="card-body">
    
                <!-- Sign-up Form (note the various input "types")-->
                <form role="form">
                <div class="form-group row">
                    <label for="trainName-input"> Train Name:</label>
                    <input class="form-control" id="TrainName-input" type="text">
                </div>
                <div class="form-group row">
                    <label for="destination-input">Destination:</label>
                    <input class="form-control" id="Destination-input" type="text">
                </div>
                <div class="form-group row">
                    <label for="trainTime-input">First Train Time (HH:mm Military Time)</label>
                    <input class="form-control" id="TrainTime-input" type="number">
                </div>
                <div class="form-group row">
                    <label for="frequency-input">Frequency (min)</label>
                    <textarea class="form-control" id="Frequency-input" type="number"></textarea>
                </div>
                <button onclick="writeData" class="btn btn-default" id="add-user" type="submit">Submit</button>
             </form>
          </div>
        </div>
     </div>        
 </div>  
            <!-- jQuery -->
    <script src="https://code.jquery.com/jquery.js"></script>
    
    <script>
        // Capture Button Click
        $("#add-user").on("click", function(event) {
      // prevent form from trying to submit/refresh the page
      event.preventDefault();
            // Capture User Inputs and store them into variables
            var tName = $("#TrainName-input").val().trim();
            var dest = $("#Destination-input").val().trim();
            var tTime = $("#TrainTime-input").val().trim();
            var freq = $("#Frequency-input").val().trim();
    
            // Console log each of the user inputs to confirm we are receiving them
            console.log(tName);
            console.log(dest);
            console.log(tTime);
            console.log(freq);
    
            // Output all of the new information into the relevant HTML sections
            $("#TrainName-display").text(tName);
            $("#Destination-display").text(dest);
            $("#TrainTime-display").text(tTime);
            $("#Frequency-display").text(freq);

        });
    </script>



</body>

</html>